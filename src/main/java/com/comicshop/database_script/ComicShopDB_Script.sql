--
-- PostgreSQL database dump
--

-- Dumped from database version 17.4
-- Dumped by pg_dump version 17.4

-- Started on 2025-05-18 16:18:57

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 4956 (class 1262 OID 32771)
-- Name: ComicShopDB; Type: DATABASE; Schema: -; Owner: postgres
--

CREATE DATABASE "ComicShopDB" WITH TEMPLATE = template0 ENCODING = 'UTF8' LOCALE_PROVIDER = libc LOCALE = 'en-US';


ALTER DATABASE "ComicShopDB" OWNER TO postgres;

\connect "ComicShopDB"

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 228 (class 1259 OID 32856)
-- Name: cart; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.cart (
    cart_id integer NOT NULL,
    user_id bigint NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.cart OWNER TO postgres;

--
-- TOC entry 227 (class 1259 OID 32855)
-- Name: cart_cart_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.cart_cart_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.cart_cart_id_seq OWNER TO postgres;

--
-- TOC entry 4957 (class 0 OID 0)
-- Dependencies: 227
-- Name: cart_cart_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.cart_cart_id_seq OWNED BY public.cart.cart_id;


--
-- TOC entry 236 (class 1259 OID 32932)
-- Name: cart_items; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.cart_items (
    cart_item_id bigint NOT NULL,
    added_at timestamp(6) without time zone,
    quantity integer NOT NULL,
    cart_id integer NOT NULL,
    product_id bigint NOT NULL
);


ALTER TABLE public.cart_items OWNER TO postgres;

--
-- TOC entry 235 (class 1259 OID 32931)
-- Name: cart_items_cart_item_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.cart_items ALTER COLUMN cart_item_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.cart_items_cart_item_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 230 (class 1259 OID 32870)
-- Name: cartitems; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.cartitems (
    cart_item_id integer NOT NULL,
    cart_id integer NOT NULL,
    product_id integer NOT NULL,
    quantity integer NOT NULL,
    added_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT cartitems_quantity_check CHECK ((quantity > 0))
);


ALTER TABLE public.cartitems OWNER TO postgres;

--
-- TOC entry 229 (class 1259 OID 32869)
-- Name: cartitems_cart_item_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.cartitems_cart_item_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.cartitems_cart_item_id_seq OWNER TO postgres;

--
-- TOC entry 4958 (class 0 OID 0)
-- Dependencies: 229
-- Name: cartitems_cart_item_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.cartitems_cart_item_id_seq OWNED BY public.cartitems.cart_item_id;


--
-- TOC entry 224 (class 1259 OID 32820)
-- Name: category; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.category (
    category_id bigint NOT NULL,
    category_name character varying(255) NOT NULL,
    description character varying(255),
    parent_category_id bigint,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.category OWNER TO postgres;

--
-- TOC entry 223 (class 1259 OID 32819)
-- Name: category_category_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.category_category_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.category_category_id_seq OWNER TO postgres;

--
-- TOC entry 4959 (class 0 OID 0)
-- Dependencies: 223
-- Name: category_category_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.category_category_id_seq OWNED BY public.category.category_id;


--
-- TOC entry 238 (class 1259 OID 32947)
-- Name: custom_user_detail; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.custom_user_detail (
    detail_id integer NOT NULL,
    address character varying(255),
    avatar_url character varying(255),
    created_at timestamp(6) without time zone,
    date_of_birth date,
    full_name character varying(255),
    phone_number character varying(255),
    updated_at timestamp(6) without time zone,
    user_id bigint NOT NULL
);


ALTER TABLE public.custom_user_detail OWNER TO postgres;

--
-- TOC entry 237 (class 1259 OID 32946)
-- Name: custom_user_detail_detail_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.custom_user_detail ALTER COLUMN detail_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.custom_user_detail_detail_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 222 (class 1259 OID 32804)
-- Name: customuserdetail; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.customuserdetail (
    detail_id integer NOT NULL,
    user_id integer NOT NULL,
    full_name character varying(100),
    phone_number character varying(20),
    address text,
    date_of_birth date,
    avatar_url character varying(255),
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.customuserdetail OWNER TO postgres;

--
-- TOC entry 221 (class 1259 OID 32803)
-- Name: customuserdetail_detail_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.customuserdetail_detail_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.customuserdetail_detail_id_seq OWNER TO postgres;

--
-- TOC entry 4960 (class 0 OID 0)
-- Dependencies: 221
-- Name: customuserdetail_detail_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.customuserdetail_detail_id_seq OWNED BY public.customuserdetail.detail_id;


--
-- TOC entry 240 (class 1259 OID 32955)
-- Name: order_details; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.order_details (
    order_detail_id integer NOT NULL,
    quantity integer NOT NULL,
    subtotal numeric(38,2) NOT NULL,
    unit_price numeric(38,2) NOT NULL,
    order_id integer NOT NULL,
    product_id bigint NOT NULL
);


ALTER TABLE public.order_details OWNER TO postgres;

--
-- TOC entry 239 (class 1259 OID 32954)
-- Name: order_details_order_detail_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.order_details ALTER COLUMN order_detail_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.order_details_order_detail_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 234 (class 1259 OID 32906)
-- Name: orderdetails; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.orderdetails (
    order_detail_id integer NOT NULL,
    order_id integer NOT NULL,
    product_id integer NOT NULL,
    quantity integer NOT NULL,
    unit_price numeric(10,2) NOT NULL,
    subtotal numeric(10,2) NOT NULL,
    CONSTRAINT orderdetails_quantity_check CHECK ((quantity > 0))
);


ALTER TABLE public.orderdetails OWNER TO postgres;

--
-- TOC entry 233 (class 1259 OID 32905)
-- Name: orderdetails_order_detail_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.orderdetails_order_detail_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.orderdetails_order_detail_id_seq OWNER TO postgres;

--
-- TOC entry 4961 (class 0 OID 0)
-- Dependencies: 233
-- Name: orderdetails_order_detail_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.orderdetails_order_detail_id_seq OWNED BY public.orderdetails.order_detail_id;


--
-- TOC entry 232 (class 1259 OID 32889)
-- Name: orders; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.orders (
    order_id integer NOT NULL,
    user_id bigint NOT NULL,
    total_amount numeric(38,2) NOT NULL,
    shipping_address character varying(255) NOT NULL,
    payment_method character varying(255) NOT NULL,
    order_status character varying(255) DEFAULT 'Pending'::character varying NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.orders OWNER TO postgres;

--
-- TOC entry 231 (class 1259 OID 32888)
-- Name: orders_order_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.orders_order_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.orders_order_id_seq OWNER TO postgres;

--
-- TOC entry 4962 (class 0 OID 0)
-- Dependencies: 231
-- Name: orders_order_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.orders_order_id_seq OWNED BY public.orders.order_id;


--
-- TOC entry 226 (class 1259 OID 32837)
-- Name: products; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.products (
    product_id bigint NOT NULL,
    category_id bigint NOT NULL,
    title character varying(255) NOT NULL,
    author character varying(255),
    publisher character varying(255),
    price numeric(38,2) NOT NULL,
    discount_price numeric(38,2),
    stock_quantity integer DEFAULT 0 NOT NULL,
    description character varying(255),
    cover_image_url character varying(255),
    isbn character varying(255),
    published_date date,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.products OWNER TO postgres;

--
-- TOC entry 225 (class 1259 OID 32836)
-- Name: products_product_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.products_product_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.products_product_id_seq OWNER TO postgres;

--
-- TOC entry 4963 (class 0 OID 0)
-- Dependencies: 225
-- Name: products_product_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.products_product_id_seq OWNED BY public.products.product_id;


--
-- TOC entry 218 (class 1259 OID 32773)
-- Name: roles; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.roles (
    role_id integer NOT NULL,
    role_name character varying(255) NOT NULL,
    description character varying(255),
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.roles OWNER TO postgres;

--
-- TOC entry 217 (class 1259 OID 32772)
-- Name: roles_role_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.roles_role_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.roles_role_id_seq OWNER TO postgres;

--
-- TOC entry 4964 (class 0 OID 0)
-- Dependencies: 217
-- Name: roles_role_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.roles_role_id_seq OWNED BY public.roles.role_id;


--
-- TOC entry 220 (class 1259 OID 32785)
-- Name: users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.users (
    user_id bigint NOT NULL,
    username character varying(255) NOT NULL,
    email character varying(255) NOT NULL,
    password_hash character varying(255) NOT NULL,
    role_id integer NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    is_active boolean DEFAULT true
);


ALTER TABLE public.users OWNER TO postgres;

--
-- TOC entry 219 (class 1259 OID 32784)
-- Name: users_user_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.users_user_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.users_user_id_seq OWNER TO postgres;

--
-- TOC entry 4965 (class 0 OID 0)
-- Dependencies: 219
-- Name: users_user_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.users_user_id_seq OWNED BY public.users.user_id;


--
-- TOC entry 4711 (class 2604 OID 32859)
-- Name: cart cart_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cart ALTER COLUMN cart_id SET DEFAULT nextval('public.cart_cart_id_seq'::regclass);


--
-- TOC entry 4714 (class 2604 OID 32873)
-- Name: cartitems cart_item_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cartitems ALTER COLUMN cart_item_id SET DEFAULT nextval('public.cartitems_cart_item_id_seq'::regclass);


--
-- TOC entry 4705 (class 2604 OID 33021)
-- Name: category category_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.category ALTER COLUMN category_id SET DEFAULT nextval('public.category_category_id_seq'::regclass);


--
-- TOC entry 4702 (class 2604 OID 32807)
-- Name: customuserdetail detail_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.customuserdetail ALTER COLUMN detail_id SET DEFAULT nextval('public.customuserdetail_detail_id_seq'::regclass);


--
-- TOC entry 4720 (class 2604 OID 32909)
-- Name: orderdetails order_detail_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orderdetails ALTER COLUMN order_detail_id SET DEFAULT nextval('public.orderdetails_order_detail_id_seq'::regclass);


--
-- TOC entry 4716 (class 2604 OID 32892)
-- Name: orders order_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders ALTER COLUMN order_id SET DEFAULT nextval('public.orders_order_id_seq'::regclass);


--
-- TOC entry 4707 (class 2604 OID 33155)
-- Name: products product_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.products ALTER COLUMN product_id SET DEFAULT nextval('public.products_product_id_seq'::regclass);


--
-- TOC entry 4696 (class 2604 OID 32776)
-- Name: roles role_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.roles ALTER COLUMN role_id SET DEFAULT nextval('public.roles_role_id_seq'::regclass);


--
-- TOC entry 4698 (class 2604 OID 33105)
-- Name: users user_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users ALTER COLUMN user_id SET DEFAULT nextval('public.users_user_id_seq'::regclass);


--
-- TOC entry 4938 (class 0 OID 32856)
-- Dependencies: 228
-- Data for Name: cart; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.cart VALUES (2, 7, '2025-05-17 03:26:27.801063', '2025-05-18 02:26:45.965904');
INSERT INTO public.cart VALUES (1, 1, '2025-05-17 00:57:17.905005', '2025-05-18 14:20:49.094431');


--
-- TOC entry 4946 (class 0 OID 32932)
-- Dependencies: 236
-- Data for Name: cart_items; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.cart_items VALUES (22, '2025-05-18 02:24:28.832614', 2, 2, 9);
INSERT INTO public.cart_items VALUES (23, '2025-05-18 02:26:35.866151', 1, 2, 10);
INSERT INTO public.cart_items VALUES (24, '2025-05-18 02:26:40.88615', 1, 2, 12);
INSERT INTO public.cart_items VALUES (25, '2025-05-18 02:26:45.962905', 1, 2, 11);
INSERT INTO public.cart_items VALUES (35, '2025-05-18 11:19:53.619505', 1, 1, 10);
INSERT INTO public.cart_items VALUES (36, '2025-05-18 11:19:59.030087', 1, 1, 12);


--
-- TOC entry 4940 (class 0 OID 32870)
-- Dependencies: 230
-- Data for Name: cartitems; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 4934 (class 0 OID 32820)
-- Dependencies: 224
-- Data for Name: category; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.category VALUES (1, 'Manga', 'Truyện tranh Nhật Bản', NULL, '2025-05-14 22:04:04.109419');
INSERT INTO public.category VALUES (2, 'Manhwa', 'Truyện tranh Hàn Quốc', NULL, '2025-05-14 22:04:04.109419');
INSERT INTO public.category VALUES (3, 'Comic', 'Truyện tranh phương Tây', NULL, '2025-05-14 22:04:04.109419');
INSERT INTO public.category VALUES (5, 'Action', 'Hành động', NULL, '2025-05-17 19:08:39.551464');
INSERT INTO public.category VALUES (6, 'Fantasy', 'Huyền bí', 1, '2025-05-17 19:13:38.270525');
INSERT INTO public.category VALUES (7, 'Trừu tượng', 'ahfaf', NULL, '2025-05-17 19:21:22.349958');


--
-- TOC entry 4948 (class 0 OID 32947)
-- Dependencies: 238
-- Data for Name: custom_user_detail; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 4932 (class 0 OID 32804)
-- Dependencies: 222
-- Data for Name: customuserdetail; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 4950 (class 0 OID 32955)
-- Dependencies: 240
-- Data for Name: order_details; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 4944 (class 0 OID 32906)
-- Dependencies: 234
-- Data for Name: orderdetails; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 4942 (class 0 OID 32889)
-- Dependencies: 232
-- Data for Name: orders; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 4936 (class 0 OID 32837)
-- Dependencies: 226
-- Data for Name: products; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.products VALUES (9, 1, 'Naruto Vol. 1', 'Masashi Kishimoto', NULL, 110000.00, 90000.00, 50, 'The beginning of Naruto''s journey in the ninja world.', '/images/5d695b59-d29a-4851-b25c-a3ae812e2264_naruto.jpg', '9784088728407', NULL, NULL, NULL);
INSERT INTO public.products VALUES (8, 1, 'One Piece Vol. 1', 'Eiichiro Oda', NULL, 120000.00, 100000.00, 50, 'The first volume of the popular One Piece manga series.', '/images/23373d9b-99ac-44fc-b296-b564b3f8a2f3_onepiece.jpg', '9784088725093', NULL, NULL, NULL);
INSERT INTO public.products VALUES (10, 1, 'Attack on Titan Vol. 1', 'Hajime Isayama', NULL, 130000.00, 110000.00, 50, 'The first volume of the epic Attack on Titan series.', '/images/6e00e65c-b5f8-48d4-a82b-852e6724b438_aot.jpg', '9784063842760', NULL, NULL, NULL);
INSERT INTO public.products VALUES (11, 2, 'Batman: The Killing Joke', 'Alan Moore', NULL, 250000.00, 200000.00, 30, 'A classic Batman story exploring the Joker''s origin.', '/images/f69acf2f-683c-48d4-93e7-af721c82f475_batman.jpg', '9780930289454', NULL, NULL, NULL);
INSERT INTO public.products VALUES (12, 2, 'Spider-Man: Blue', 'Jeph Loeb', NULL, 220000.00, 180000.00, 30, 'A heartfelt story of Spider-Man''s past love.', '/images/84e2658f-89f7-4401-b2c7-e22fada5f340_Spider.jpg', '9780785110712', NULL, NULL, NULL);
INSERT INTO public.products VALUES (13, 3, 'The Hobbit (Graphic Novel)', 'J.R.R. Tolkien', NULL, 300000.00, 250000.00, 20, 'The graphic novel adaptation of The Hobbit.', '/images/3fcfc50a-f537-4eff-a096-0aa41583ba70_The Hobbit (Graphic Novel).jpg', '9780261102668', NULL, NULL, NULL);
INSERT INTO public.products VALUES (14, 1, 'My Hero Academia Vol. 1', 'Kohei Horikoshi', NULL, 125000.00, 105000.00, 50, 'The start of the My Hero Academia series.', '/images/e8eed4e0-1299-49d7-85e8-a61385767a50_My Hero Academia Vol. 1.jpg', '9784088802640', NULL, NULL, NULL);
INSERT INTO public.products VALUES (15, 1, 'Death Note Vol. 1', 'Tsugumi Ohba', NULL, 115000.00, 95000.00, 50, 'The first volume of the thrilling Death Note series.', '/images/cd31f0fa-19dc-4818-9f79-6ab7de9a1cd3_Death Note Vol. 1.jpg', '9784088736211', NULL, NULL, NULL);
INSERT INTO public.products VALUES (16, 2, 'Watchmen', 'Alan Moore', NULL, 280000.00, 240000.00, 30, 'A groundbreaking comic exploring superheroes in a dark world.', '/images/7eae85bc-2aea-4670-9e23-bac1614e1f0d_Watchmen.jpg', '9780930289232', NULL, NULL, NULL);
INSERT INTO public.products VALUES (17, 1, 'Demon Slayer Vol. 1', 'Koyoharu Gotouge', NULL, 130000.00, 110000.00, 50, 'The beginning of Tanjiro''s demon-slaying journey.', '/images/d96af020-184a-4099-a66c-fb2ebe2322e7_Demon Slayer Vol. 1.jpg', '9784088807232', NULL, NULL, NULL);
INSERT INTO public.products VALUES (18, 3, 'Harry Potter: The Graphic Novel', 'J.K. Rowling', NULL, 320000.00, 280000.00, 20, 'Graphic novel version of the famous Harry Potter story.', '/images/f181d6b5-2ae7-4119-a7f3-c9a2f25b5e37_Harry Potter The Graphic Novel.jpg', '9781408846162', NULL, NULL, NULL);
INSERT INTO public.products VALUES (19, 1, 'Jujutsu Kaisen Vol. 1', 'Gege Akutami', NULL, 125000.00, 105000.00, 50, 'The start of the Jujutsu Kaisen series.', '/images/75219940-602f-4a37-97b8-27590c1959fe_Jujutsu Kaisen Vol. 1.jpg', '9784088815169', NULL, NULL, NULL);
INSERT INTO public.products VALUES (20, 2, 'Superman: Red Son', 'Mark Millar', NULL, 260000.00, 220000.00, 30, 'An alternate universe tale of Superman.', '/images/e5232405-5d37-452e-8ebd-02964dc0f364_Superman Red Son.jpg', '9781401201913', NULL, NULL, NULL);
INSERT INTO public.products VALUES (21, 1, 'Fullmetal Alchemist Vol. 1', 'Hiromu Arakawa', NULL, 120000.00, 100000.00, 50, 'The first volume of the Fullmetal Alchemist series.', '/images/86558e44-4384-4112-9808-8a143e50b2c2_Fullmetal Alchemist Vol. 1.jpg', '9784757506206', NULL, NULL, NULL);
INSERT INTO public.products VALUES (22, 2, 'The Sandman Vol. 1', 'Neil Gaiman', NULL, 290000.00, 250000.00, 30, 'The beginning of the iconic Sandman series.', '/images/cafa50a0-2491-496b-a7d2-a9b631060047_The Sandman Vol. 1.jpeg', '9780446394116', NULL, NULL, NULL);
INSERT INTO public.products VALUES (23, 1, 'Dragon Ball Z Vol. 1', 'Akira Toriyama', NULL, 115000.00, 95000.00, 50, 'The start of the Dragon Ball Z adventure.', '/images/1954b3a4-d431-4255-bc33-0af316356580_Dragon Ball Z Vol. 1.jpg', '9784088518312', NULL, NULL, NULL);
INSERT INTO public.products VALUES (24, 3, 'The Witcher: The Last Wish (Graphic Novel)', 'Andrzej Sapkowski', NULL, 310000.00, 270000.00, 20, 'Graphic novel adaptation of The Witcher.', '/images/87bc7923-e92c-4d6b-95a3-0360959415a5_The Witcher The Last Wish (Graphic Novel).jpg', '9781506701103', NULL, NULL, NULL);
INSERT INTO public.products VALUES (25, 1, 'Chainsaw Man Vol. 1', 'Tatsuki Fujimoto', NULL, 130000.00, 110000.00, 50, 'The first volume of the Chainsaw Man series.', '/images/e95e34d6-2b5e-448a-a503-31a2254e23a1_Chainsaw Man Vol. 1.jpg', '9784088817804', NULL, NULL, NULL);
INSERT INTO public.products VALUES (26, 2, 'Wonder Woman: Earth One', 'Grant Morrison', NULL, 270000.00, 230000.00, 30, 'A reimagined story of Wonder Woman.', '/images/c2e80919-3dfb-4f29-b799-0a89c31f4868_Wonder Woman Earth One.jpg', '9781401229788', NULL, NULL, NULL);
INSERT INTO public.products VALUES (27, 1, 'Bleach Vol. 1', 'Tite Kubo', NULL, 110000.00, 90000.00, 50, 'The beginning of the Bleach series.', '/images/427a96c0-de39-4364-a008-7b051177fc81_Bleach Vol. 1.jpg', '9784088732138', NULL, NULL, NULL);
INSERT INTO public.products VALUES (28, 1, 'test', 'teé', NULL, 1020222.00, 90000.00, 122, 'hdhdhd', '/images/c81bd983-f11f-40da-a52a-46a42add91b7_Jujutsu Kaisen Vol. 1.jpg', '1123191412412', NULL, NULL, NULL);


--
-- TOC entry 4928 (class 0 OID 32773)
-- Dependencies: 218
-- Data for Name: roles; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.roles VALUES (1, 'Admin', 'Quản trị viên toàn quyền', '2025-05-14 22:03:57.837628');
INSERT INTO public.roles VALUES (2, 'Customer', 'Khách hàng', '2025-05-14 22:03:57.837628');
INSERT INTO public.roles VALUES (3, 'Moderator', 'Người kiểm duyệt nội dung', '2025-05-14 22:03:57.837628');


--
-- TOC entry 4930 (class 0 OID 32785)
-- Dependencies: 220
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.users VALUES (7, 'admin1', 'admin1@example.com', '$2a$12$2VX98oSIvHQGCRtTpmXU1O1jhuvJUzLWJ0l7dQ.kxrnI5UhQEmipe', 1, '2025-05-17 03:25:29.61037', '2025-05-17 03:25:29.61037', true);
INSERT INTO public.users VALUES (1, 'khang', 'testemail@gmail.com', '$2a$10$46x/lQQClQvtIye.2YK0wu7HvJM28U52jGsy5.nseGxe921Y7IFE2', 2, '2025-05-17 00:56:17.625642', '2025-05-18 14:24:41.142696', false);
INSERT INTO public.users VALUES (8, 'testuser', 'user@gamil.com', '$2a$10$6c/Ut71QvF2PAKZjGb/L3eVkPMmkDfH2auU06k29EDzFu0WfUCBt.', 2, '2025-05-18 14:25:23.084424', '2025-05-18 14:25:23.078426', true);


--
-- TOC entry 4966 (class 0 OID 0)
-- Dependencies: 227
-- Name: cart_cart_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.cart_cart_id_seq', 2, true);


--
-- TOC entry 4967 (class 0 OID 0)
-- Dependencies: 235
-- Name: cart_items_cart_item_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.cart_items_cart_item_id_seq', 36, true);


--
-- TOC entry 4968 (class 0 OID 0)
-- Dependencies: 229
-- Name: cartitems_cart_item_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.cartitems_cart_item_id_seq', 1, false);


--
-- TOC entry 4969 (class 0 OID 0)
-- Dependencies: 223
-- Name: category_category_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.category_category_id_seq', 8, true);


--
-- TOC entry 4970 (class 0 OID 0)
-- Dependencies: 237
-- Name: custom_user_detail_detail_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.custom_user_detail_detail_id_seq', 1, false);


--
-- TOC entry 4971 (class 0 OID 0)
-- Dependencies: 221
-- Name: customuserdetail_detail_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.customuserdetail_detail_id_seq', 1, false);


--
-- TOC entry 4972 (class 0 OID 0)
-- Dependencies: 239
-- Name: order_details_order_detail_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.order_details_order_detail_id_seq', 1, false);


--
-- TOC entry 4973 (class 0 OID 0)
-- Dependencies: 233
-- Name: orderdetails_order_detail_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.orderdetails_order_detail_id_seq', 1, false);


--
-- TOC entry 4974 (class 0 OID 0)
-- Dependencies: 231
-- Name: orders_order_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.orders_order_id_seq', 1, false);


--
-- TOC entry 4975 (class 0 OID 0)
-- Dependencies: 225
-- Name: products_product_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.products_product_id_seq', 28, true);


--
-- TOC entry 4976 (class 0 OID 0)
-- Dependencies: 217
-- Name: roles_role_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.roles_role_id_seq', 3, true);


--
-- TOC entry 4977 (class 0 OID 0)
-- Dependencies: 219
-- Name: users_user_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.users_user_id_seq', 8, true);


--
-- TOC entry 4760 (class 2606 OID 32936)
-- Name: cart_items cart_items_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cart_items
    ADD CONSTRAINT cart_items_pkey PRIMARY KEY (cart_item_id);


--
-- TOC entry 4746 (class 2606 OID 32863)
-- Name: cart cart_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cart
    ADD CONSTRAINT cart_pkey PRIMARY KEY (cart_id);


--
-- TOC entry 4749 (class 2606 OID 32877)
-- Name: cartitems cartitems_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cartitems
    ADD CONSTRAINT cartitems_pkey PRIMARY KEY (cart_item_id);


--
-- TOC entry 4737 (class 2606 OID 32938)
-- Name: category category_category_name_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.category
    ADD CONSTRAINT category_category_name_key UNIQUE (category_name);


--
-- TOC entry 4739 (class 2606 OID 33023)
-- Name: category category_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.category
    ADD CONSTRAINT category_pkey PRIMARY KEY (category_id);


--
-- TOC entry 4762 (class 2606 OID 32953)
-- Name: custom_user_detail custom_user_detail_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.custom_user_detail
    ADD CONSTRAINT custom_user_detail_pkey PRIMARY KEY (detail_id);


--
-- TOC entry 4735 (class 2606 OID 32813)
-- Name: customuserdetail customuserdetail_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.customuserdetail
    ADD CONSTRAINT customuserdetail_pkey PRIMARY KEY (detail_id);


--
-- TOC entry 4766 (class 2606 OID 32959)
-- Name: order_details order_details_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.order_details
    ADD CONSTRAINT order_details_pkey PRIMARY KEY (order_detail_id);


--
-- TOC entry 4758 (class 2606 OID 32912)
-- Name: orderdetails orderdetails_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orderdetails
    ADD CONSTRAINT orderdetails_pkey PRIMARY KEY (order_detail_id);


--
-- TOC entry 4754 (class 2606 OID 32899)
-- Name: orders orders_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT orders_pkey PRIMARY KEY (order_id);


--
-- TOC entry 4742 (class 2606 OID 32977)
-- Name: products products_isbn_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.products
    ADD CONSTRAINT products_isbn_key UNIQUE (isbn);


--
-- TOC entry 4744 (class 2606 OID 33157)
-- Name: products products_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.products
    ADD CONSTRAINT products_pkey PRIMARY KEY (product_id);


--
-- TOC entry 4724 (class 2606 OID 32781)
-- Name: roles roles_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.roles
    ADD CONSTRAINT roles_pkey PRIMARY KEY (role_id);


--
-- TOC entry 4726 (class 2606 OID 32984)
-- Name: roles roles_role_name_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.roles
    ADD CONSTRAINT roles_role_name_key UNIQUE (role_name);


--
-- TOC entry 4764 (class 2606 OID 33079)
-- Name: custom_user_detail ukt2hb8fwh31wna6uw34ptl4j0t; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.custom_user_detail
    ADD CONSTRAINT ukt2hb8fwh31wna6uw34ptl4j0t UNIQUE (user_id);


--
-- TOC entry 4729 (class 2606 OID 32988)
-- Name: users users_email_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_email_key UNIQUE (email);


--
-- TOC entry 4731 (class 2606 OID 33107)
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (user_id);


--
-- TOC entry 4733 (class 2606 OID 32992)
-- Name: users users_username_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_username_key UNIQUE (username);


--
-- TOC entry 4747 (class 1259 OID 33067)
-- Name: idx_cart_user_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_cart_user_id ON public.cart USING btree (user_id);


--
-- TOC entry 4750 (class 1259 OID 32926)
-- Name: idx_cartitems_cart_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_cartitems_cart_id ON public.cartitems USING btree (cart_id);


--
-- TOC entry 4751 (class 1259 OID 32927)
-- Name: idx_cartitems_product_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_cartitems_product_id ON public.cartitems USING btree (product_id);


--
-- TOC entry 4755 (class 1259 OID 32929)
-- Name: idx_orderdetails_order_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_orderdetails_order_id ON public.orderdetails USING btree (order_id);


--
-- TOC entry 4756 (class 1259 OID 32930)
-- Name: idx_orderdetails_product_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_orderdetails_product_id ON public.orderdetails USING btree (product_id);


--
-- TOC entry 4752 (class 1259 OID 33092)
-- Name: idx_orders_user_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_orders_user_id ON public.orders USING btree (user_id);


--
-- TOC entry 4740 (class 1259 OID 33053)
-- Name: idx_products_category_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_products_category_id ON public.products USING btree (category_id);


--
-- TOC entry 4727 (class 1259 OID 32923)
-- Name: idx_users_role_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_users_role_id ON public.users USING btree (role_id);


--
-- TOC entry 4771 (class 2606 OID 33113)
-- Name: cart cart_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cart
    ADD CONSTRAINT cart_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(user_id) ON DELETE CASCADE;


--
-- TOC entry 4772 (class 2606 OID 32878)
-- Name: cartitems cartitems_cart_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cartitems
    ADD CONSTRAINT cartitems_cart_id_fkey FOREIGN KEY (cart_id) REFERENCES public.cart(cart_id) ON DELETE CASCADE;


--
-- TOC entry 4773 (class 2606 OID 33158)
-- Name: cartitems cartitems_product_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cartitems
    ADD CONSTRAINT cartitems_product_id_fkey FOREIGN KEY (product_id) REFERENCES public.products(product_id) ON DELETE CASCADE;


--
-- TOC entry 4769 (class 2606 OID 33041)
-- Name: category category_parent_category_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.category
    ADD CONSTRAINT category_parent_category_id_fkey FOREIGN KEY (parent_category_id) REFERENCES public.category(category_id) ON DELETE SET NULL;


--
-- TOC entry 4768 (class 2606 OID 33108)
-- Name: customuserdetail customuserdetail_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.customuserdetail
    ADD CONSTRAINT customuserdetail_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(user_id) ON DELETE CASCADE;


--
-- TOC entry 4777 (class 2606 OID 33168)
-- Name: cart_items fk1re40cjegsfvw58xrkdp6bac6; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cart_items
    ADD CONSTRAINT fk1re40cjegsfvw58xrkdp6bac6 FOREIGN KEY (product_id) REFERENCES public.products(product_id);


--
-- TOC entry 4780 (class 2606 OID 33173)
-- Name: order_details fk4q98utpd73imf4yhttm3w0eax; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.order_details
    ADD CONSTRAINT fk4q98utpd73imf4yhttm3w0eax FOREIGN KEY (product_id) REFERENCES public.products(product_id);


--
-- TOC entry 4778 (class 2606 OID 32995)
-- Name: cart_items fk99e0am9jpriwxcm6is7xfedy3; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cart_items
    ADD CONSTRAINT fk99e0am9jpriwxcm6is7xfedy3 FOREIGN KEY (cart_id) REFERENCES public.cart(cart_id);


--
-- TOC entry 4781 (class 2606 OID 33010)
-- Name: order_details fkjyu2qbqt8gnvno9oe9j2s2ldk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.order_details
    ADD CONSTRAINT fkjyu2qbqt8gnvno9oe9j2s2ldk FOREIGN KEY (order_id) REFERENCES public.orders(order_id);


--
-- TOC entry 4779 (class 2606 OID 33118)
-- Name: custom_user_detail fkock1g0px49v0sag33aswpcoal; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.custom_user_detail
    ADD CONSTRAINT fkock1g0px49v0sag33aswpcoal FOREIGN KEY (user_id) REFERENCES public.users(user_id);


--
-- TOC entry 4775 (class 2606 OID 32913)
-- Name: orderdetails orderdetails_order_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orderdetails
    ADD CONSTRAINT orderdetails_order_id_fkey FOREIGN KEY (order_id) REFERENCES public.orders(order_id) ON DELETE CASCADE;


--
-- TOC entry 4776 (class 2606 OID 33163)
-- Name: orderdetails orderdetails_product_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orderdetails
    ADD CONSTRAINT orderdetails_product_id_fkey FOREIGN KEY (product_id) REFERENCES public.products(product_id) ON DELETE RESTRICT;


--
-- TOC entry 4774 (class 2606 OID 33123)
-- Name: orders orders_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT orders_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(user_id) ON DELETE RESTRICT;


--
-- TOC entry 4770 (class 2606 OID 33054)
-- Name: products products_category_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.products
    ADD CONSTRAINT products_category_id_fkey FOREIGN KEY (category_id) REFERENCES public.category(category_id) ON DELETE RESTRICT;


--
-- TOC entry 4767 (class 2606 OID 32798)
-- Name: users users_role_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_role_id_fkey FOREIGN KEY (role_id) REFERENCES public.roles(role_id) ON DELETE RESTRICT;


-- Completed on 2025-05-18 16:18:57

--
-- PostgreSQL database dump complete
--

